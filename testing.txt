<template>
    <div class="background">
        <div class="row">
            <div class="col-md-6 offset-md-3">
                <div class=" my-5">
                    <div class="card-body cardbody-color">
                        <div class="text-center my-4">
                            <img src="../assets/logo/Logo.png" class="w-75" style="margin-bottom: 60px" alt="profile" />
                        </div>
                        <!-- INPUT WITH EMAIL -->
                        <div>


                            <!-- UserName -->
                            <div class="mb-3">
                                <input type="text" id="userName" v-model="userName" class="form-control form-control-sm"
                                    placeholder="UserName" />
                            </div>

                            <!-- Full Name -->
                            <div class="mb-3">
                                <input type="text" id="fullName" v-model="fullName" class="form-control form-control-sm"
                                    placeholder="Full Name" />
                            </div>
                          
                            <!-- Email -->
                            <div class="mb-3">
                                <input type="text" id="email" v-model="email" class="form-control form-control-sm"
                                    placeholder="Email" />
                            </div>

                            <!-- Department -->
                            <div class="mb-3">
                                <input type="text" id="department" v-model="department" class="form-control form-control-sm"
                                    placeholder="Department" />
                            </div>

                            <!-- Designation -->
                            <div class="mb-3">
                                <input type="text" id="designation" v-model="designation"
                                    class="form-control form-control-sm" placeholder="Designation" />
                            </div>

                            <!-- Role -->
                            <!-- <div class="mb-3">
                            <input type="text" id="role" v-model="role" class="form-control form-control-sm"
                                placeholder="role" />
                        </div> -->
                            <div class="form-group" style="margin-left:10%">
                                <label >Domain Assign</label>
                                <select @change="onChange($event)" class="form-control form-control-sm select2"
                                    placeholder="Role" style="width: 89%;">

                                    <option value="Alabama" selected="selected">Alabama</option>
                                    <option value="Alaska">Alaska</option>
                                    <option value="California">California</option>
                                    <option value="Delaware">Delaware</option>
                                    <option value="Tennessee">Tennessee</option>
                                    <option value="Texas">Texas</option>
                                    <option value="Washington">Washington</option>

                                </select>
                                <p>show data : {{ datashow }}</p>
                            </div>

                            <!-- INPUT WITH PASSWORD -->
                            <input v-if="showPassword" type="text" class="input form-control form-control-sm showinput"
                                v-model="password" />

                            <input v-else type="password" class="input form-control form-control-sm showinput"
                                placeholder="Password..." v-model="password" />


                            <!-- <div style="color:rgb(54, 148, 255); position:absolute">
                            <a @click="signup" style="margin-left:45px;margin-top:10px;cursor:pointer ">Register Now</a>
                        </div> -->


                            <div style="color:red; position:absolute">
                                <p style="margin-left:50px ">{{ errordata }}</p>
                            </div>

                            <!-- SHOW PASSWORD ICON -->
                            <div class="field has-addons">

                                <div class="control mt-5">


                                    <p class="button" @click="toggleShow">
                                        <span class="icon is-small is-right">
                                            <FontAwesome v-if="showPassword" icon="fas fa-eye-slash" />
                                            <FontAwesome v-else icon="fas fa-eye" />
                                            <!-- <i v-else class="fas fa-eye" /> -->
                                        </span>
                                    </p>

                                </div>

                            </div>

                            <!-- LOGIN BUTTON -->

                            <div class="text-center">
                                <!-- <button v-on:click="submitFormAd()" class="btn btn-color btn-success mb-2">Login with
                                        AD</button> -->
                                <button v-on:click="submitForm()" class="btn btn-color btn-primary mb-5">Sign
                                    Up</button>
                            </div>
                            <!-- <div class="text-center">
                                <button type="button" class="btn btn-primary">Primary</button>
                                <button class="btn btn-color mb-5">Login</button>
                            </div> -->
                        </div>
                        <!-- <div style="margin-top: 20px">
                            <a href="#" class="ad">Login with AD</a>
                        </div> -->

                    </div>
                </div>
            </div>
        </div>
    </div>
</template>







<script>
import axios from 'axios';
export default {
    name: 'registration',
    data() {
        return {
            userName: "",
            password: "",
            showPassword: false,
            errordata: "",
            datashow: "",
        };
    },
    computed: {
        buttonLabel() {
            return this.showPassword ? "Hide" : "Show";
        },
    },



    methods: {
        onChange(e) {
            console.log(e.target.value);
            this.datashow = e.target.value
        },

        toggleShow() {
            this.showPassword = !this.showPassword;
        },

        // signup(){
        //     this.$router.push('/registrstion')
        // },




        async submitFormAd() {

            let response = await axios.post('loginWithAd', {
                userName: this.userName,
                password: this.password,


                headers: {
                    'content-type': 'application/json'
                },
                body: JSON.stringify(this.userName),
                //  withCredentials: true,
            });

            console.log(this.userName);
            console.log(this.password);
            console.log('log in with AD');
            console.log(response.data);
            localStorage.setItem('user', JSON.stringify(response))
            this.$router.push('/')

        },

        async submitForm() {

            let response = await axios.post('login', {
                userName: this.userName,
                password: this.password,


                headers: {
                    'content-type': 'application/json'
                },
                body: JSON.stringify(this.userName)
                // withCredentials: true,
            });

            // console.log(this.userName);
            // console.log(this.password);
            // console.log(response.data);
            localStorage.setItem('user', JSON.stringify(response))
            this.$router.push('/')

        },



    },

}



</script>





<style>
.button {
    border: none;
    position: absolute;
    margin-left: 44%;
    margin-top: -75px;
    width: 4%;
    color: rgb(55, 56, 56);
    cursor: pointer;
}

.cardbody-color input {
    width: 80%;
    margin-left: 10%;
}

button {
    width: 80%;
}

a {
    text-decoration: none;
}

.card-body {
    background-color: rgb(255, 255, 255);
    border: 2px solid green;
    width: 60%;
    margin-left: 100px;
    margin-top: 5%;
    border-radius: 5px;
    /* height: 20px; */
}

.card {
    border: none;
    margin: 90px;
    padding: 0px;
}

.background {
    background-image: url("../assets/logo/Logo-Big.jpg");
    background-size: cover;
    background-position: center;
    min-height: 100vh;
}

.ad {
    color: green;
    font-weight: 500;
    display: flex;
    justify-content: center;
    margin-bottom: 0px;
}
</style>